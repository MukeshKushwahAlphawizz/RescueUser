<ion-header class="transparent">
  <ion-navbar>
  </ion-navbar>
</ion-header>
<ion-content class="main-bg">
  <form [formGroup]="signUpForm">
    <div text-center margin-bottom class="login-title">
      <h1 class="italic">Enter Your Details</h1>
      <div (click)="openPicker()" class="user_profile">
        <img class="user" [src]="profileImgToShow && profileImgToShow!==''?profileImgToShow:'assets/img/user.png'">
        <img class="edit_profile" src="assets/img/edit_profile.png">
      </div>
    </div>
    <ion-list margin padding>
      <ion-item no-padding margin-bottom class="transparent">
        <ion-input formControlName="firstName" type="text" placeholder="First Name"></ion-input>
      </ion-item>
      <div>
        <ng-container *ngFor="let error of error_messages.firstName">
          <div class="error-message"
               *ngIf="signUpForm.get('firstName').hasError(error.type) && (signUpForm.get('firstName').dirty || signUpForm.get('firstName').touched)">
            {{ error.message }}
          </div>
        </ng-container>
      </div>

      <ion-item no-padding margin-bottom class="transparent">
        <ion-input formControlName="lastName" type="text" placeholder="Last Name"></ion-input>
      </ion-item>
      <div>
        <ng-container *ngFor="let error of error_messages.lastName">
          <div class="error-message"
               *ngIf="signUpForm.get('lastName').hasError(error.type) && (signUpForm.get('lastName').dirty || signUpForm.get('lastName').touched)">
            {{ error.message }}
          </div>
        </ng-container>
      </div>

      <ion-item no-padding margin-bottom class="transparent">
        <ion-input formControlName="mobileNumber" type="number" placeholder="Mobile No."></ion-input>
      </ion-item>
      <div>
        <ng-container *ngFor="let error of error_messages.mobileNumber">
          <div class="error-message"
               *ngIf="signUpForm.get('mobileNumber').hasError(error.type) && (signUpForm.get('mobileNumber').dirty || signUpForm.get('mobileNumber').touched)">
            {{ error.message }}
          </div>
        </ng-container>
      </div>

      <ion-item no-padding class="transparent">
        <ion-icon item-right class="text-purple small-text" name="md-pin"></ion-icon>
        <ion-input (input)='onChangeLocation($event.target.value)' formControlName="address" type="text" placeholder="Address"></ion-input>
      </ion-item>
      <div>
        <ng-container *ngFor="let error of error_messages.address">
          <div class="error-message"
               *ngIf="signUpForm.get('address').hasError(error.type) && (signUpForm.get('address').dirty || signUpForm.get('address').touched)">
            {{ error.message }}
          </div>
        </ng-container>
      </div>

      <div class="location-option" *ngFor="let item of this.autocompleteItemsSearch" tappable
           (click)="chooseItemSource(item)">
        <div>{{item.description}}</div>
      </div>

    </ion-list>
    <div margin padding-left padding-right class="Vehicle_dtls">
      <h1 class="italic">Enter Vehicle No.</h1>
      <div margin-top class="Vehicle-field">
        <input formControlName="vehicleNumber" type="text" class="Vehicle_no" placeholder="MP09 CA 3000">
        <button (click)="verify()" class="medium-text purple_bg">Verfiy</button>
      </div>
      <div>
        <ng-container *ngFor="let error of error_messages.vehicleNumber">
          <div class="error-message"
               *ngIf="signUpForm.get('vehicleNumber').hasError(error.type) && (signUpForm.get('vehicleNumber').dirty || signUpForm.get('vehicleNumber').touched)">
            {{ error.message }}
          </div>
        </ng-container>
      </div>
    </div>

    <div *ngIf="vehicleData !==''" margin-bottom class="details-box">
      <span>Make : {{vehicleData.make?vehicleData.make:''}}</span>
      <span>Model : {{vehicleData.model?vehicleData.model:''}}</span>
      <span>Colour : {{vehicleData.colour?vehicleData.colour:''}}</span>
      <span>Engine Number : {{vehicleData.engine_number?vehicleData.engine_number:''}}</span>
      <!--<span>Chachis no : CA8525GG</span>-->
      <span>Weight : {{vehicleData.weight?vehicleData.weight :''}}</span>
      <!--<span>Tyre No: 165/80 R14 85T</span>-->
    </div>

    <div text-center class="signin-btn">
      <button [disabled]="signUpForm.invalid" no-margin ion-button full class="purple_bg no-shadow" (click)="confirm()">Confirm</button>
    </div>

  </form>
</ion-content>
